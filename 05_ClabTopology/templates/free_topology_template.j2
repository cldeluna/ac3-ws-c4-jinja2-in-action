name: {{ topology_name }}

topology:
  nodes:
    {% for node in nodes %}
    {{ node.name }}:
      kind: {{ node.kind }}
      image: {{ node.image }}
    {% endfor %}

  links:
    {% for link in links %}
    - endpoints: ["{{ link.node1 }}:{{ link.interface1 }}", "{{ link.node2 }}:{{ link.interface2 }}"]
    {% endfor %}